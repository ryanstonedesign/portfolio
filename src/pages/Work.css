.work {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex: 1;
  min-height: 0;
  max-height: calc(100vh - 120px);
  max-height: calc(100dvh - 120px);
  overflow: hidden;
}

/* Stack layout */
.work--stack {
  justify-content: center;
}

.work__stack-container {
  position: relative;
  width: 100%;
  max-width: 668px;
  height: 100%;
  overflow: hidden;
  cursor: pointer;
  animation: slide-up-container 1.2s var(--ease-out) 0.1s both;
}

@keyframes slide-up-container {
  from {
    transform: translateY(200px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.work__stack-track {
  display: flex;
  flex-direction: column;
  gap: 32px;
  will-change: transform;
}

.work__stack-track--transitioning {
  transition: transform 1500ms cubic-bezier(0.16, 1, 0.3, 1);
}

.work__stack-item {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.work__stack-media {
  display: block;
  max-width: 100%;
  max-height: calc((100dvh - 120px) * 0.7);
  object-fit: contain;
  transition: transform var(--duration-normal) cubic-bezier(0.54, 0.00, 0.24, 1.00),
              filter var(--duration-normal) ease;
}

.work__stack-media--video {
  cursor: pointer;
}

/* Video wrapper for play button positioning */
.work__stack-video-wrapper {
  position: relative;
  display: inline-flex;
  cursor: pointer;
}

/* Play button */
.work__stack-play-button {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  color: #fff;
  background: rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-radius: 9999px;
  pointer-events: none;
  transition: opacity 300ms ease;
}

.work__stack-play-button svg {
  margin-left: 2px;
}

.work__stack-play-button--hidden {
  opacity: 0;
}

/* Saturated mode */
.work__stack-track[data-opacity="saturated"] .work__stack-media {
  filter: grayscale(75%);
}

.work__stack-container:hover .work__stack-track[data-opacity="saturated"] .work__stack-media {
  filter: grayscale(0%);
}

/* Hover effect */
.work__stack-container:hover .work__stack-media {
  transform: scale(1.02);
}

.work__empty {
  width: 100%;
  aspect-ratio: 4 / 3;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-bg-alt);
  color: var(--color-text-muted);
}

@media (max-width: 768px) {
  .work--stack {
    flex: 1;
    min-height: 0;
  }

  .work__stack-container {
    max-width: 100%;
    padding: 0 16px;
  }

  .work__stack-media {
    max-height: calc(100dvh - 120px);
    filter: grayscale(0%);
  }

  .work__stack-track[data-opacity="saturated"] .work__stack-media {
    filter: grayscale(0%);
  }
}
